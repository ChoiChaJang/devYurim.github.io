<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>텐서플로우(Tensorflow) GPU 버전 설치하기 - Windows 10 pro | devYurim</title>
	<meta name="description" content="연구실 내 컴퓨터에 드디어 GPU가..!! 로컬에서 Tensorflow GPU를 사용하기 위해 험난했던 GPU 버전 설치 방법을 남긴다…반드시 tensorflow 공식 문서를 확인해야한다!!! 추천 cuda버전, cudnn버전, anaconda일때 파이썬 몇 버전 써야하는지, na...">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/tensorflow/2018/04/30/tensorflow-1.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="devYurim" href="/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700" rel="stylesheet">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.js"></script>
	

	<!-- Google Analytics -->
	
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-111748939-1', 'auto');
	ga('send', 'pageview');
	</script>
	
</head>

  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/blogmark.png" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">devYurim</a>
		</h1>
	</div>

	<nav class="site-nav">
		<ul>
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<li>
				<a class="page-link" href="/tags.html">
					tags
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			

            <!-- Search bar -->
            
            <li>
            <form action="/search.html" method="get">
                <input type="text" id="search-box" name="query" placeholder="Search" class="">
                <button type="submit" class="">
                    <i class="fa fa-fw fa-search"></i>
                </button>
            </form>
            </li>
            
		</ul>
	</nav>
</header>

<header class="site-category">
	<nav><ul>
	
	<li><a href="http://localhost:4000/category/Github+Blog/index.html">Github Blog</a></li>
	
	<li><a href="http://localhost:4000/category/Android/index.html">Android</a></li>
	
	<li><a href="http://localhost:4000/category/ML/index.html">ML</a></li>
	
	<li><a href="http://localhost:4000/category/Tensorflow/index.html">Tensorflow</a></li>
	
	<li><a href="http://localhost:4000/category/Java/index.html">Java</a></li>
	
	<li><a href="http://localhost:4000/category/Ubuntu/index.html">Ubuntu</a></li>
	
	<li><a href="http://localhost:4000/category/Docker/index.html">Docker</a></li>
	
</ul></nav>
</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">텐서플로우(Tensorflow) GPU 버전 설치하기 - Windows 10 pro</h1>
    
    <p class="meta">
      April 30, 2018
      
    </p>
  </header>
  <section class="post-content"><p>연구실 내 컴퓨터에 드디어 GPU가..!! 로컬에서 Tensorflow GPU를 사용하기 위해 험난했던 GPU 버전 설치 방법을 남긴다…<br />
<strong>반드시 tensorflow 공식 문서를 확인해야한다!!!</strong> 추천 cuda버전, cudnn버전, anaconda일때 파이썬 몇 버전 써야하는지, native pip 일때 파이썬 몇 버전을 써야하는지 적혀있다. 자신의 환경에 맞춰서 공식문서를 보고 파이썬 버전을 잘 선택해야한다. 또한, 선택하는 운영체제에 따라서도 버전이 다르다. <br /><br />
나는 <strong>Windows 10 / Anaconda</strong> 를 사용하여 설치할 예정이다.<br /></p>

<ul>
  <li>Tensorflow 공식 홈페이지 : https://www.tensorflow.org/
<br /><br /></li>
</ul>

<blockquote>
  <p><strong>1. CUDA Toolkit 설치</strong></p>
</blockquote>

<p>텐서플로우 홈페이지에가서 install 버튼을 눌러보면 친절하게 NVIDIA CUDA xx 설치하세요 라고 나와있다.<br /><br /></p>
<center><img src="https://user-images.githubusercontent.com/20412850/39426642-9610c13c-4cbb-11e8-872b-f3bbfa89ee5b.png" width="60%" /></center>
<p><br /><br /></p>

<p>나는 여기에 맞춰서 <strong>CUDA 9.0</strong> 버전을 설치하였다. 현재는 배포하는 버전은 9.1 버전이여서 <a href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA Toolkit Archive</a>에 가서 CUDA 9.0을 받았다.<br /></p>
<ul>
  <li>NVIDIA Cuda Toolkit 설치 : https://developer.nvidia.com/cuda-toolkit-archive</li>
</ul>

<center><img src="https://user-images.githubusercontent.com/20412850/39426815-3cd9bb18-4cbc-11e8-9c45-f3342ae3a0d9.png" width="60%" /></center>
<p><br /><br /></p>

<p>설치가 완료 되고 재부팅한다음에 <strong>환경변수</strong> 가 제대로 설치 되었나 확인해야한다.<br /></p>
<ul>
  <li>시스템 환경변수 편집 -&gt; 고급 -&gt; 환경변수 클릭<br /><br /></li>
</ul>

<center><img src="https://user-images.githubusercontent.com/20412850/39426945-c9fb33fa-4cbc-11e8-9fd5-c414a6fca79e.png" width="60%" /></center>
<p><br /><br />
위와 같이 <strong>CUDA_PATH</strong> 가 추가되어있으면 OK이다!<br />
만약에 CUDA버전을 여러개 설치한다면 CUDA_PATH_V9_0과 같이 구분되며 최근 설치한 버전이 CUDA_PATH로 들어간다고 한다.<br /></p>

<blockquote>
  <p><strong>2. cuDNN 다운로드</strong></p>
</blockquote>

<p>이것도 역시 텐서플로우 홈페이지에 명시되어 있다. <strong>cuDNN은 7.0.x버전</strong> 으로 다운로드 받았다. cuDNN을 받으려면 DEVELOPER 홈페이지에 가입이 필요하다. 먼저 가입을 하고 다운로드 받는다.<br /></p>
<ul>
  <li>cuDNN 다운로드 : https://developer.nvidia.com/rdp/cudnn-archive
<br /><br /></li>
</ul>

<p>CUDA 버전에 유념해서 다운로드 받아야한다. 나는 <strong>cuDNN v7.0.5 for CUDA 9.0</strong> 을 받았다.<br /></p>
<center><img src="https://user-images.githubusercontent.com/20412850/39427302-40264032-4cbe-11e8-8a4c-5260fe748cdc.png" width="60%" /></center>
<p><br /><br /></p>

<p>압축파일을 압축 해제후 <strong>cuda 폴더</strong> 에 들어가보면 다음과 같은 <strong>3개</strong> 의 파일이 있다.<br /></p>
<center><img src="https://user-images.githubusercontent.com/20412850/39428641-17dc22ae-4cc3-11e8-845d-7bc6c224fe20.png" width="60%" /></center>
<p><br />
이 세개 파일을 모두 CUDA_PATH 경로의 폴더에 추가해준다. CUDA_PATH 경로는 시스템 환경변수에 가면 확인 할 수 있다. 나는 아래와 같다.<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">C</span><span class="p">:</span><span class="err">\</span><span class="nx">Program</span> <span class="nx">Files</span><span class="err">\</span><span class="nx">NVIDIA</span> <span class="nx">GPU</span> <span class="nx">Computing</span> <span class="nx">Toolkit</span><span class="err">\</span><span class="nx">CUDA</span><span class="err">\</span><span class="nx">v9</span><span class="p">.</span><span class="mi">0</span></code></pre></figure>

<p><br /></p>

<p>즉, <strong>cuda 폴더 안의 내용을 CUDA_PATH 경로에 ctrl+c / ctrl+v 해서 복사</strong> 하면 완료!<br /><br /></p>

<blockquote>
  <p><strong>3. Anaconda를 이용해 Tensorflow 설치</strong></p>
</blockquote>

<p>나는 아나콘다(Anaconda)가 이미 설치되어 있는 상태이기 때문에 아나콘다를 이용하여 설치하였다.<br /> 아나콘다가 없다면 아나콘다를 설치하거나 python3.5버전을 설치하면된다.<br />
일단 현재 버전의 아나콘다는 python3.6을 기준으로하기 때문에 python3.5 버전을 가진 새로운 아나콘다 환경을 만들어 주어야 한다.<br />
아직 python 3.6은 지원하지 않는 것으로 보이므로 <strong>반드시!! python3.5 버전</strong> 으로 환경설정을 해주어야 한다.<br />
일단 윈도우 검색창에 Anaconda를 검색하여 <strong>Anaconda Prompt</strong> 를 켠다. 나는 환경이름을 cuda로 설정했다.<br /></p>

<p>환경활성화는 Windows Powershell에서는 안되고 conda prompt에서만 가능하다!<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">conda</span> <span class="nx">create</span> <span class="o">-</span><span class="nx">n</span> <span class="nx">cuda</span> <span class="nx">pip</span> <span class="nx">python</span><span class="o">=</span><span class="mf">3.5</span> <span class="cm">/*환경 만들기(python 3.5) -&gt; y/n 나오면 y 누를것.*/</span>
<span class="nx">activate</span> <span class="nx">cuda</span>  <span class="cm">/*환경 활성화*/</span></code></pre></figure>

<center><img src="https://user-images.githubusercontent.com/20412850/39428040-f36eec96-4cc0-11e8-9705-c8c9e9ca368a.png" width="60%" /></center>
<p><br />
activate 하였을 때 다음과 같이 <strong>(cuda)</strong> 로 변경되어야 한다. 다음 아래의 명령어를 실행하여 <strong>Tensorflow GPU 버전</strong> 을 설치한다.<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">python</span> <span class="o">-</span><span class="nx">m</span> <span class="nx">pip</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">upgrade</span> <span class="nx">pip</span> <span class="cm">/*일단 pip 를 업그레이드 시켜준다.*/</span>
<span class="nx">pip</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">ignore</span><span class="o">-</span><span class="nx">installed</span> <span class="o">--</span><span class="nx">upgrade</span> <span class="nx">tensorflow</span><span class="o">-</span><span class="nx">gpu</span> <span class="cm">/*텐서플로우 GPU 버전 설치*/</span></code></pre></figure>

<p><br /><br /></p>

<p><strong>Tesorflow CPU 버전</strong> 은 아래와 같은 명령어로 설치하면 된다.<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">pip</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">ignore</span><span class="o">-</span><span class="nx">installed</span> <span class="o">--</span><span class="nx">upgrade</span> <span class="nx">tensorflow</span></code></pre></figure>

<p><br /><br /></p>

<p>설치가 끝나면 jupyter notebook도 설치하고 jupyter notebook을 켜서 코드가 잘 돌아가는지 확인한다.<br /></p>
<center><img src="https://user-images.githubusercontent.com/20412850/39429658-851e5f1e-4cc6-11e8-993e-d2f1905a39f0.png" width="80%" /></center>
<p><br /></p>
<center><img src="https://user-images.githubusercontent.com/20412850/39429707-b09162b8-4cc6-11e8-94b7-be1836953fab.png" width="120%" /></center>
<p><br /></p>

<p>위에 처럼 예시 코드가 잘 돌아가면 GPU 버전 설치 완료!! <br /></p>

<p><br /><br /></p>

<p>아래의 명령어들은 참고 명령어 사항이다.<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">conda</span> <span class="nx">info</span> <span class="o">--</span><span class="nx">envs</span> <span class="cm">/*아나콘다 환경 확인하기*/</span>
<span class="nx">conda</span> <span class="nx">remove</span> <span class="o">--</span><span class="nx">name</span> <span class="err">삭제하려는환경이름</span> <span class="o">--</span><span class="nx">all</span> <span class="cm">/*아나콘다 환경 삭제하기*/</span></code></pre></figure>

<center><img src="https://user-images.githubusercontent.com/20412850/39428118-37314c26-4cc1-11e8-9307-414b5af90864.png" width="60%" /></center>
<p><br />
위와 같이 모든 아나콘다 환경이 표시가 된다. 내가 현재 사용하고 있는 환경은 <code class="highlighter-rouge">*</code> 로 표시된다.<br /><br /></p>

<p>아나콘다 환경 활성화/비활성화는 아래와 같은 명령어로 실행 할 수 있다.<br /></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">activate</span> <span class="nx">cuda</span> <span class="cm">/*cuda라는 이름을 가진 아나콘다 환경 활성화*/</span>
<span class="nx">deactivate</span> <span class="nx">cuda</span> <span class="cm">/*cuda라는 이름을 가진 아나콘다 환경 비 활성화*/</span></code></pre></figure>

<p><br /><br /></p>

<blockquote>
  <p><strong>Reference</strong></p>
  <ul>
    <li>https://www.tensorflow.org/install/install_windows</li>
    <li>http://solarisailab.com/archives/1581</li>
    <li>http://hiuaa.tistory.com/39</li>
    <li>http://dwfox.tistory.com/85</li>
  </ul>
</blockquote>

<p><br /><br /><br /><br /><br /></p>
</section>
  
<footer>
  <div class="tags">
    
    <a class="tag" href="/tags#Tensorflow">#Tensorflow</a>
    
  </div>
</footer>


</article>
<!-- Disqus -->
<a href="https://devYurim.github.io/tensorflow/2018/04/30/tensorflow-1.html#disqus_thread"></a>

<div class="comments">
  
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-devyurim-github-io-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            

</div>


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>Previous post</p>
      <a href="/github%20blog/2018/04/30/blog-4.html">
        윈도우(Windows)에 지킬(Jekyll)설치하기
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>Next post</p>
      <a href="/java/2018/05/02/java-1.html">
        Java JDK 설치하기(Windows/MAC OS)
      </a>
  </div>
  
</div>



    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


    <script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>

    <!-- Google Analytics Tracking code -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

  </body>
</html>
